
---

```
----------------------------------------------------------------------------------------------------------------------
-------------------------------------------****Django Model****---------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------
Every individual app has its own model.py file for database setup => Example: first_app::models.py =>
------------------------------------first_app::models.py---------------------------------------
from django.db import models

# Create your models here.

class Musician(models.Model):
    # id = models.AutoField(primary_key=True)  # Django takes this automatically
    first_name = models.CharField(max_length=50)  #(max_length=50, null=True or blank=True)
    last_name = models.CharField(max_length=50)
    instrument = models.CharField(max_length=50)

    # show the variable :
    def __str__(self):
        return self.first_name + " " + self.last_name


class Album(models.Model):
    # id = models.AutoField(primary_key=True)  # Django takes this automatically
    artist = models.ForeignKey('Musician', on_delete=models.CASCADE)  # ForeignKey relation
    name = models.CharField(max_length=50)
    release_date = models.DateField()
    num_star = models.IntegerField()

-----------------------------------------Command for model: after change model then run--------------------------------
>>> python manage.py makemigrations first_app   <- (App Name)
>>> python manage.py migrate
----------------------------------------------------------------------------------------------------------------------
----------------------------------------Model Object Access------------------------------------------------------------------------------
>>> python manage.py shell

Then shell will be executed

>>> from first_app.models import Musician
>>> print(Musician.objects.all())   <- [Print/show Musician table data]

Insert data into table :
>>> obj = Musician(first_name='Md.Ashraful', last_name='Shuvo', instrument='Guitar')
>>> obj.save()

Show data from table :
>>> print(Musician.objects.all())

-----------------------------
>>> python manage.py makemigrations first_app
>>> python manage.py migrate
--------------------------
>>> from first_app.models import Musician
>>> print(Musician.objects.all())
<QuerySet [<Musician: Ashraful Momen>, <Musician: Shuvo Momen>]>
>>> 
---------------------------
Create : 
----------
from first_app.models import Musician, Album

# create and save
m = Musician(first_name='John', last_name='Doe', instrument='Guitar')
m.save()

# shorthand
m2 = Musician.objects.create(first_name='Jane', last_name='Smith', instrument='Piano')

List of all musicians : 
----------------------
Musician.objects.all()
# e.g. <QuerySet [<Musician: John Doe>, <Musician: Jane Smith>]>

Get one (by primary key): 
-------------------------
Musician.objects.get(pk=1)

Filter: 
-------
Musician.objects.filter(instrument__icontains='guitar')

Count: 
------
Musician.objects.count()

Create an Album related to a musician: 
-------------------------------------
artist = Musician.objects.first()          # pick an artist
album = Album.objects.create(artist=artist, name='First Album', release_date='2023-01-01', num_star=5)

Delete : 
----------
Musician.objects.filter(first_name='John').delete()

----------------------------------------------------------------------------------------------------------------------
------------------------------------------------Model: Site----------------------------------------------------------------------
-----------------------------------------------Admin Superuser Command-----------------------------------------------------------------------
First register those tables/models in => first_app::admin.py  then =>
---------------------------------=> first_app::admin.py ---------------
from django.contrib import admin
from first_app.models import Musician, Album

# Register your models here.
admin.site.register(Musician)
admin.site.register(Album)
------------------------------------------------

>>> python manage.py createsuperuser   [Complete -> userName, passWord]

>>> Then go to => 127.0.0.1:8000/admin  â†’ LogIN with userName and passWord 

----------------------------------------------------------------------------------------------------------------------
--------------------------------------------Models (More Examples: Rating Options)--------------------------------------------------------------------------
-------------------------------------------first_app::models.py---------------------------------------------------------------------------
from django.db import models

# Create your models here.

class Musician(models.Model):
    # id = models.AutoField(primary_key=True)
    first_name = models.CharField(max_length=50)
    last_name = models.CharField(max_length=50)
    instrument = models.CharField(max_length=50)

    def __str__(self):
        return self.first_name + " " + self.last_name


class Album(models.Model):
    artist = models.ForeignKey('Musician', on_delete=models.CASCADE)
    name = models.CharField(max_length=50)
    release_date = models.DateField()

    # Rating options:
    rating = (
        (1, "Bad"),
        (2, "Not Bad"),
        (3, "Good"),
        (4, "Very Good"),
        (5, "Awesome"),
    )
    num_star = models.IntegerField(choices=rating)

    def __str__(self):
        return self.name + " , Rating: " + str(self.num_star)
-----------------------------
>>> python manage.py makemigrations first_app 
>>> python manage.py migrate
--------------------------
----------------------------------------------------------------------------------------------------------------------
---------------------------------------Model Data to Show Template (MVT)-------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------
{{ use print variable }}
{% use if/else, forLoop, or conditionals %} 

----------------------------------------first_app::views.py------------------------------------------------------------------------------
from django.shortcuts import render
from django.http import HttpResponse
from first_app.models import Musician, Album

def index(request):
    # SELECT * FROM Musician ORDER BY first_name   # raw MySQL query

    musician_list = Musician.objects.order_by('first_name')  # ORM
    dictionary = {"Musician_List": "All Musician's", "musician": musician_list}
    return render(request, 'first_app/index.html', context=dictionary)

----------------------------------------------------------------------------------------------------------------------
-----------------------------------------template >> first_app::index.html-----------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------
<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{Musician_List}}</title>
    <link rel="stylesheet" href="{% static 'css/color.css' %}">
</head>
<body>
    <h1 align="center">{{Musician_List}}</h1>
    <table align="center" style="border:1px solid black; border-radius:10px;">
        <thead>
            <tr>
                <th scope="col">First Name</th>
                <th scope="col">Last Name</th>
                <th scope="col">Instrument</th>
            </tr>
        </thead>
        <tbody>
            {% for row in musician %}
            <tr>
                <td>{{row.first_name}}</td>
                <td>{{row.last_name}}</td>
                <td>{{row.instrument}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>
------------------------------------------End Model----------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------
```

---
